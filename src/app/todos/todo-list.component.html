<div class="flex h-screen items-center justify-center">
  <div class="grid grid-flow-row gap-8 max-w-xs w-full">
    <form
      class="grid grid-flow-row gap-4"
      [formGroup]="form"
      (ngSubmit)="onCreateTodo()"
    >
      <input
        class="border border-gray-300 w-full rounded-lg px-4 py-2 duration-300 focus:border-primary outline-none"
        [ngClass]="isControlInvalid('title') ? 'border-red-500' : ''"
        name="title"
        placeholder="Title"
        formControlName="title"
        required
      />
      <div
        *ngIf="isControlInvalid('title')"
        class="text-xs text-center text-red-500"
      >
        <div *ngIf="getControlError('title', 'required')">Can't be blank</div>
      </div>
      <button
        class="bg-primary w-full rounded-lg py-2 text-white font-bold"
        type="submit"
      >
        Add Todo
      </button>
    </form>
    <div *ngIf="isLoading">Loading...</div>
    <div *ngIf="!isLoading" class="grid grid-flow-row gap-4">
      <app-todo
        *ngFor="let todo of todos"
        [todo]="todo"
        (onChange)="onChange($event)"
        (onDelete)="onDelete($event)"
      ></app-todo>
    </div>
  </div>
</div>
